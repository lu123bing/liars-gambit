<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>骗子博弈 - 午夜密谈室</title>
    <style>
        /* --- 全局变量定义 (方便后期微调颜色) --- */
        :root {
            --bg-color-dark: #0f1410; /* 深墨绿色背景基调 */
            --felt-color: #1a261a;    /* 赌桌毛毡色 */
            --gold-color: #c5a05a;    /* 沉稳的暗金色 */
            --gold-highlight: #edd298; /* 金色高光 */
            --card-bg: #e8d5b5;       /* 羊皮纸米黄色 */
            --card-border: #654321;   /* 深棕色卡牌描边 */
            --danger-red: #8B0000;    /* 质疑时的深红色 */
        }

        /* --- 基础重置与字体 --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            /* 禁止移动端长按选中文字 */
            -webkit-user-select: none;
            user-select: none;
        }

        body, html {
            height: 100%;
            font-family: 'Times New Roman', serif; /* 使用衬线体增加复古感 */
            background-color: var(--bg-color-dark);
            color: var(--gold-color);
            overflow: hidden; /* 禁止页面滚动 */
        }

        /* --- 核心背景：光影与材质 --- */
        body {
            /* 技巧：多重背景层叠 */
            /* 1. 最上层：黑色晕影 (Vignette)，四周压暗 */
            /* 2. 中间层：模拟毛毡纹理的噪点 (可选，这里用微弱的重复渐变模拟) */
            /* 3. 最底层：墨绿色基调和中央光源 */
            background: 
                radial-gradient(circle at center, transparent 30%, rgba(0,0,0,0.8) 90%),
                repeating-linear-gradient(45deg, rgba(255,255,255,0.02) 0px, rgba(255,255,255,0.02) 1px, transparent 1px, transparent 4px),
                radial-gradient(circle at center, var(--felt-color) 0%, var(--bg-color-dark) 100%);
            
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* 内容上下拉伸 */
        }

        /* --- 通用金色文字特效 --- */
        .gold-text {
            color: var(--gold-color);
            text-shadow: 0 1px 2px rgba(0,0,0,0.8);
            letter-spacing: 1px;
        }
        h1, h2, h3 {
            font-weight: normal;
            text-transform: uppercase; /* 大写增加庄重感 */
        }

        /* --- 布局容器 --- */
        /* 顶部状态栏 */
        .header-bar {
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid;
            /* 金色渐变边框 */
            border-image: linear-gradient(to right, transparent, var(--gold-color), transparent) 1;
            background: rgba(0,0,0,0.3);
        }

        /* 中央牌桌区 (核心视觉区) */
        .game-table {
            flex-grow: 1; /* 占据剩余空间 */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* 牌池容器 */
        .card-pool-container {
            width: 240px;
            height: 180px;
            /* 半透明黑色背景衬托 */
            background: rgba(0,0,0,0.4);
            border: 3px double var(--gold-color); /* 双线边框增加精致感 */
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5), inset 0 0 20px rgba(0,0,0,0.5);
            position: relative;
        }

        .pool-info {
            margin-top: 15px;
            font-size: 1.2rem;
        }

        /* --- 卡牌样式 (羊皮纸风格) --- */
        .card {
            width: 70px;
            height: 100px;
            background-color: var(--card-bg);
            border: 2px solid var(--card-border);
            border-radius: 6px;
            /* 内阴影模拟旧纸张的卷曲和污渍感 */
            box-shadow: inset 0 0 15px rgba(101, 67, 33, 0.3), 2px 2px 5px rgba(0,0,0,0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            color: var(--card-border);
            position: relative;
        }

        /* 牌池里的牌堆叠效果 */
        .pool-card {
            position: absolute;
            /* 稍微旋转错落，增加真实感 */
        }
        .pool-card:nth-child(1) { transform: rotate(-5deg); top: 20px; }
        .pool-card:nth-child(2) { transform: rotate(3deg); top: 15px; left: 45%;}
        .pool-card:nth-child(3) { transform: rotate(-2deg); top: 25px; left: 35%; box-shadow: 0 5px 15px rgba(0,0,0,0.6); /* 最上面的牌投影更重 */}

        /* 底部玩家手牌区 */
        .player-hand-area {
            padding: 10px;
            background: rgba(0,0,0,0.5);
            border-top: 1px solid var(--gold-color);
            overflow-x: auto; /* 允许横向滚动 */
            white-space: nowrap;
            min-height: 130px;
            display: flex;
            align-items: center;
            /* 隐藏滚动条但保持功能 (兼容性写法) */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none;  /* IE 10+ */
        }
        .player-hand-area::-webkit-scrollbar {
            display: none; /* Chrome Safari */
        }

        .hand-card {
            margin-right: -30px; /* 手牌重叠效果 */
            transition: transform 0.2s;
        }
        /* 选中的手牌上浮 */
        .hand-card:hover, .hand-card.selected {
            transform: translateY(-20px);
            z-index: 10;
            border-color: var(--gold-highlight);
        }

        /* --- 底部操作按钮区 --- */
        .action-bar {
            padding: 20px;
            display: flex;
            justify-content: space-around;
            background: rgba(26, 18, 10, 0.9);
            box-shadow: 0 -5px 20px rgba(0,0,0,0.6);
        }

        /* 按钮样式 */
        .btn {
            padding: 15px 30px;
            font-family: inherit;
            font-size: 1.1rem;
            text-transform: uppercase;
            color: var(--bg-color-dark);
            /* 金色拉丝金属渐变背景 */
            background: linear-gradient(to bottom, var(--gold-highlight), var(--gold-color));
            border: none;
            border-radius: 4px;
            box-shadow: 0 4px 0 #8c6a30, 0 5px 10px rgba(0,0,0,0.4); /* 立体感和投影 */
            cursor: pointer;
            transition: all 0.1s;
        }
        .btn:active {
            /* 按下效果：位移并减小投影 */
            transform: translateY(4px);
            box-shadow: 0 0 0 #8c6a30, inset 0 2px 5px rgba(0,0,0,0.3);
        }

        /* 特殊按钮：质疑 (红色系) */
        .btn-challenge {
            background: linear-gradient(to bottom, #ff4d4d, var(--danger-red));
            color: white;
            box-shadow: 0 4px 0 #5a0000, 0 5px 10px rgba(0,0,0,0.4);
        }
        .btn-challenge:active {
             box-shadow: 0 0 0 #5a0000, inset 0 2px 5px rgba(0,0,0,0.3);
        }

        /* --- 交互特效：质疑闪烁 --- */
        #flash-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--danger-red);
            opacity: 0;
            pointer-events: none; /* 确保不阻挡点击 */
            z-index: 999;
        }
        /* 闪烁动画的关键帧 */
        @keyframes flashAnim {
            0% { opacity: 0; }
            10% { opacity: 0.6; } /* 瞬间变红 */
            100% { opacity: 0; }
        }
        .flashing {
            animation: flashAnim 0.5s ease-out;
        }

    </style>
</head>
<body>
    <div id="flash-overlay"></div>

    <div class="header-bar">
        <h3 class="gold-text">房间号: 8888 | 庄家指定: <span style="color:var(--gold-highlight); font-size:1.3em;">K</span></h3>
    </div>

    <div class="game-table">
        <div class="card-pool-container">
            <div class="card pool-card" style="z-index:1">?</div>
            <div class="card pool-card" style="z-index:2">?</div>
            <div class="card pool-card" style="z-index:3">K</div>
            
            <div class="pool-info gold-text">牌池: 12 张</div>
        </div>
    </div>

    <div class="player-hand-area">
        <div class="card hand-card">K</div>
        <div class="card hand-card">K</div>
        <div class="card hand-card" style="color:red">♥3</div> <div class="card hand-card">♠10</div>
        <div class="card hand-card" style="color:red">♦5</div>
        <div class="card hand-card">BIG JOKER</div> </div>

    <div class="action-bar">
        <button class="btn">跟牌</button>
        <button class="btn">过 (Pass)</button>
        <button class="btn btn-challenge" onclick="triggerChallengeEffect()">质疑!</button>
    </div>

    <script>
        // --- 交互亮点实现：质疑特效 ---
        function triggerChallengeEffect() {
            // 1. 视觉：屏幕红色闪烁
            const overlay = document.getElementById('flash-overlay');
            overlay.classList.remove('flashing'); // 重置动画
            void overlay.offsetWidth; // 强制浏览器重绘 (Magic hack)
            overlay.classList.add('flashing');

            // 2. 触觉：手机震动 (仅在支持的设备上有效，通常需要 HTTPS)
            // 震动模式：短震动 -> 停顿 -> 长震动
            if (navigator.vibrate) {
                navigator.vibrate([100, 50, 400]);
                console.log("Vibration triggered");
            }
        }
    </script>
</body>
</html>